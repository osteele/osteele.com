---
// These React icons are actually used in the JSX template below
// The ESLint rule can't detect their usage in Astro templates
import { FaFlickr, FaGithub, FaLinkedin } from "react-icons/fa";
import { SiBluesky, SiMastodon } from "react-icons/si";
import { ViewTransitions } from "astro:transitions";
import "../styles/global.css";

// These props are used directly in the template
const { title = "Oliver Steele", description = "Making, teaching, writing, playing" } = Astro.props;
---

<!doctype html>
<html lang="en" class="h-full">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width" />
        <link rel="icon" href="/favicon.ico" />
        <link rel="apple-touch-icon" href="/apple-touch-icon.png" />
        <meta name="generator" content={Astro.generator} />
        <title>
            {title === "Oliver Steele" ? title : `${title} | Oliver Steele`}
        </title>
        <meta name="description" content={description} />
        <meta
            property="og:title"
            content={title === "Oliver Steele"
                ? title
                : `${title} | Oliver Steele`}
        />
        <meta property="og:description" content={description} />
        <meta property="og:url" content="https://osteele.com" />
        <meta property="og:site_name" content="Oliver Steele" />
        <meta name="robots" content="index, follow" />
        <meta name="author" content="Oliver Steele" />
        <ViewTransitions />
    </head>
    <body class="flex flex-col min-h-full">
        <a
            href="#main-content"
            class="sr-only focus:not-sr-only focus:absolute focus:top-4 focus:left-4 focus:z-[200] focus:bg-blue-600 focus:text-white focus:px-4 focus:py-2 focus:rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2"
        >
            Skip to main content
        </a>
        <header
            class="fixed top-0 w-full bg-white/80 dark:bg-black/80 backdrop-blur-sm z-[100] border-b border-gray-200 dark:border-gray-800"
            transition:persist
        >
            <nav
                class="max-w-4xl mx-auto px-4 sm:px-6 h-16 flex items-center justify-between"
            >
                <a href="/" class="text-xl font-semibold"> Oliver Steele </a>
                <div class="flex items-center gap-6">
                    <a
                        href="/about"
                        class="hover:text-gray-600 dark:hover:text-gray-400"
                        >About</a
                    >
                    <a
                        href="/projects"
                        class="hover:text-blue-600 dark:hover:text-blue-400"
                        >Projects</a
                    >
                    <a
                        href="/software"
                        class="hover:text-green-600 dark:hover:text-green-400"
                        >Software</a
                    >
                    <a
                        href="https://github.com/osteele"
                        target="_blank"
                        rel="noopener noreferrer"
                        class="hover:text-gray-600 dark:hover:text-gray-400"
                        >GitHub</a
                    >
                    <a
                        href="/contact"
                        class="hover:text-indigo-600 dark:hover:text-indigo-400"
                        >Contact</a
                    >
                </div>
            </nav>
        </header>

        <main id="main-content" class="pt-16">
            <slot />
        </main>

        <footer class="mt-auto border-t border-gray-200 dark:border-gray-800" transition:persist>
            <div class="max-w-5xl mx-auto px-4 sm:px-6 py-8">
                <div class="flex flex-col items-center gap-4">
                    <div class="flex items-center gap-6">
                        <a
                            href="https://github.com/osteele"
                            target="_blank"
                            rel="noopener noreferrer"
                            class="text-gray-600 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-200"
                        >
                            <FaGithub className="w-6 h-6" />
                        </a>
                        <a
                            href="https://bsky.app/profile/osteele.com"
                            target="_blank"
                            rel="noopener noreferrer"
                            class="text-gray-600 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-200"
                            title="Bluesky: @osteele.com"
                        >
                            <SiBluesky className="w-6 h-6" />
                        </a>
                        <a
                            href="https://mastodon.social/@steele"
                            target="_blank"
                            rel="me noopener noreferrer"
                            class="text-gray-600 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-200"
                            title="Mastodon: @steele@osteele.com"
                        >
                            <SiMastodon className="w-6 h-6" />
                        </a>
                        <a
                            href="https://www.linkedin.com/in/osteele"
                            target="_blank"
                            rel="noopener noreferrer"
                            class="text-gray-600 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-200"
                        >
                            <FaLinkedin className="w-6 h-6" />
                        </a>
                        <a
                            href="https://www.flickr.com/photos/osteele"
                            target="_blank"
                            rel="noopener noreferrer"
                            class="text-gray-600 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-200"
                        >
                            <FaFlickr className="w-6 h-6" />
                        </a>
                    </div>
                    <p class="text-sm text-gray-500 dark:text-gray-400">
                        Â© 2003-{new Date().getFullYear()} by Oliver Steele. All
                        rights reserved. <a href="/colophon" class="hover:text-gray-700 dark:hover:text-gray-300 underline">Colophon</a>
                    </p>
                </div>
            </div>
        </footer>
    </body>
</html>
